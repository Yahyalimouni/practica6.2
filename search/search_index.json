{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pr\u00e1ctica 6.2 - Despliegue de una aplicaci\u00f3n PHP con Nginx y MySQL usando Docker y Docker-Compose","text":""},{"location":"#introduccion","title":"Introducci\u00f3n","text":"<p>El objetivo de esta pr\u00e1ctica es aprender a desplegar una app PHP con Nginx y MySQL mediante Docker.</p> <p>Primero nos conectamos con ssh</p> <p> </p>"},{"location":"#estructura-de-directorios","title":"Estructura de directorios","text":"<p>Realizamos la estructura de directorios siguiente:</p> <p></p>"},{"location":"#crear-un-contenedor-nginx","title":"Crear un contenedor Nginx","text":"<p>Editamos el archivo <code>docker-compose.yml</code> con el siguiente contenido</p> <p></p> <p>Y iniciamos el contenedor Nginx </p> <p></p> <p>Comprobamos que ha ido bien </p> <p></p> <p>El archivo que se ha creado ser\u00e1 el encargado de descargarse la \u00faltima versi\u00f3n de la imagen de Nginx, crear un contenedor con ella y mapear el puerto 80 del contenedor al puerto 8080 del host.</p> <p>Si accedemos a la direcci\u00f3n <code>http://192.168.1.57:8080</code> deber\u00e1 aparecer la siguiente pantalla:</p> <p></p>"},{"location":"#crear-un-contenedor-php","title":"Crear un contenedor PHP","text":"<p>Creamos el archivo index.php dentro de ./www/htmlq con el siguiente contenido</p> <p></p> <p>Y creamos el archivo de config deafult.conf en <code>./ngnix</code>:</p> <p></p> <p>Y se modificar\u00e1 el archivo Dockerfile dentro del directorio nginx con el siguiente contenido:</p> <p></p> <p>Y depues modificamos el archivo docker-compose.yml </p> <p></p> <p>Con el fichero docker-compose.yml modificado, se crear\u00e1 un contenedor PHP en el puerto 9000 y enlazado con el contenedor Nginx.</p> <p>Ahora levntaremos los contenedores y comprobaremos que funcionan correctamente.</p> <p></p>"},{"location":"#crear-un-contendor-para-datos","title":"Crear un contendor para Datos","text":"<p>Se deber\u00e1 crear un contenedor para almacenar los datos. Para ello, se deber\u00e1 modificar el archivo <code>docker-compose.yml</code> con el siguiente contenido:</p> <p></p> <p>comprobamos que ha ido bien</p> <p></p>"},{"location":"#crear-un-contendor-mysql","title":"Crear un contendor MySQL","text":"<p>Se deber\u00e1 crear un contenedor MySQL y hacerlo funcionar para que permita alojar la base de datos de la aplicaci\u00f3n PHP.</p> <p>Para ello, se deber\u00e1 modificar el archivo Dockerfile del directorio php con el siguiente contenido:</p> <p></p> <p>Se deber\u00e1 modificar el archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Se deber\u00e1 modificar el archivo index.php con el siguiente contenido:</p> <p></p> <p>Se comprueba que el contenedor MySQL funciona correctamente.</p> <p></p> <p>Al verificar la conexion a la base de datos, me ha salido ese error del PDO aunque he instalado mysqlpdo y pdo</p> <p></p>"}]}